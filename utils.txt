utils function new version 2